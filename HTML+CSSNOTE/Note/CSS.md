# 为网页添加样式

## 术语解释

CSS规则 = 选择器 + 声明块

### 选择器

1. ID选择器
2. 元素选择器
3. 类选择器

### 声明块

出现在大括号中
声明块中包含很多声明（属性），每一个声明（属性）表达了某一方面的样式

## CSS代码书写的位置

1. 内部样式表
    书写到style的元素中，一般放置在head中，能够先加载。

2. 内联样式表，元素样式表
    行间

3. 外部样式表
    将样式书写到独立的css文件中 link元素
    1). 外部样式表可以解决多页面重复样式(css样式表如果代码少，可以使用，能够提高加载效率)
    2). 有利于浏览器缓存，提高页面加载速度
    3). 有利于代码分离，更容易阅读，维护，修改

# 常见样式声明

1. color
**预设值** 定义好的单词
**三原色，色值** ：光学三原色（红，绿，蓝），每个颜色可以使用0~255之间的数字来表示，色值
```
rgb()

hex(16进制)表示法：#红绿蓝
```
淘宝红：#f40
黑色：#000

2. background-color
背景颜色

3. font-size
元素内部文字的尺寸大小
 1)  px：象素
 2) em：相对单位，相对于父元素的字体大小
 每个元素必须有字体大小，如果没有声明，则直接使用父元素大小。父元素如果也没有，就采用基准大小（可以在浏览器上设置）

 > user agent UA。用户代理(浏览器)

4. font-weight
需要字体匹配，字体可能不支持多种加粗,可能只会出现2种效果，加粗与不加粗  

5. font-family
使用多个字体，以匹配多个环境
sans-serif,非衬线字体（宋体等，字体边框有修饰，适合打印出来的，网页适合圆润一点的显示好看）

6. font-style
字体样式，可以用来设置斜体
> i元素是一个倾斜（默认样式）通常用它表示图标
> strong(表示重要的，不能忽略的内容),em（表示强调内容）

7. text-decoration
给文字加线
del：错误的内容
s: 过期的元素

8. text-indent
首行缩进：2em

9. line-height
每行文本的高度，该值越大每行距离就越大
设置行高为容器高度，可以让当行文本居中
行高可以设置纯数字，表示相对于当前元素文字大小

10. width

11. height

12. letter-sapce
文字间隙

13. text-align

# 选择器
选择器：帮助你精准的选中想要的元素

## 简单选择器

1. ID选择器
2. 元素选择器
3. 类选择器
4. 通配符选择器
*，选中所有元素
5. 属性选择器
根据元素的属性和属性值选择
6. 伪类选择器
选中某些元素的某种状态
必须按照以下顺序写（如果4个都写，爱恨法则）
link： 超链接未访问的状态
visited： 超链接访问后的状态
hover：鼠标悬停状态
active：鼠标按下状态，激活状态
7. 伪元素选择器
生成元素在第一个和最后一个并选中它
前面加2个冒号::
before
after

## 选择器的组合

1. 后代元素 —— 空格
2. 子元素 —— >
3. 相邻兄弟元素 —— +
4. 兄弟元素 —— ~
选中后面出现的所有兄弟
5. 并且

## 选择器的并列
多个选择器，用逗号分隔

语法糖

# 层叠

声明冲突： 同一个样式，多次应用到同一个元素
层叠：解决声明冲突的过程，浏览器自动处理（权重计算）

## 1. 比较重要性

重要性从高到底：
1) 作者样式表中的！important样式
2) 作者样式表普通样式
3) 浏览器默认样式

## 2. 比较特殊性

看选择器
总体规则：选择器选中范围越窄，越特殊
具体规则：通过选择器，计算出一个4位数（xxxx256进1）
1. 千位 如果是内联样式，记1 否记0
2. 百位 等于选择器中所有id选择器的数量
3. 十位 等于选择器中所有类选择器，属性选择器，伪类选择器的数量
4. 个位 等于选择器中所有元素选择器中，伪元素选择器的数量

## 3. 比较源次序

代码书写靠后的胜出

## 应用

1. 重置样式表
书写一些作者样式，覆盖浏览器的默认样式
重置样式表-> 浏览器样式表

常见的重置样式表：normalize.css, reset.css,meyer.css

2. 爱恨法则

link > visited > hover > active

# 继承

子元素会继承父元素的某些CSS属性

通常，跟文字内容相关的属性都能被继承

# 属性值的计算过程

一个元素一个元素依次渲染，顺序按照页面文档的树形结构进行

渲染每个元素的前提条件： 该元素的所有CSS属性必须有值

一个元素，从所有属性都没有值，到所有的属性都有值，这个计算过程，叫做属性值计算过程
**计算过程**
1. 确定声明值(参考样式表（作者样式表和浏览器样式表）中没有冲突的声明，作为CSS的属性值) 
2. 层叠冲突(对样式表有冲突的什么使用层叠规则，确定CSS属性值（比较重要性，比较特殊性，比较源次序）)
3. 使用继承（对仍然没有值的属性，若可以继承，则继承父元素的值）
4. 使用默认值（对仍然没有值的属性，使用默认值）

特殊的两个CSS取值
- inherit ： 手动（强制）继承，将父元素的值取出应用到该元素
- initial： 初始值，将该属性设置为默认值，如果你不知道默认值就可以填这个值

# 盒模型

box：盒子，每个元素在页面中都会生成一个矩形区域（盒子）

盒子类型

1. 行盒，display = inline 的元素
2. 块盒，display = block 的元素

行盒在页面不换行，块盒独占一行

浏览器默认样式表设置的块盒的元素：容器元素，h，p
常见的行盒：span ，a ， img，video，audio

## 盒子的组成部分

无论是行盒，还是块盒，的组成

1. 内容 content
width，height ，设置的是盒子内容的宽，高
内容部分通常叫做整个盒子的**内容盒 conten-box** 

2. 填充（内边距） padding
盒子边框到盒子内容的距离padding
填充区+内容区 = **填充盒 padding-box**

3. 边框 border
边框 = 边框样式（border-style） + 边框宽度（border-width） + 边框颜色（border-color）
边框颜色默认是字体颜色
边框 + 填充区 + 内容区 = **边框盒 border-box**

4. 外边框 margin

边框到其他盒子的距离

# 盒模型应用

## 改变宽高范围

默认情况下，width盒height设置的是内容盒宽高。

衡量设计稿尺寸的时候，往往使用的是边框盒，但设置width盒height，则设置的是内容盒

1. 精确设置
2. CSS3 ： box-sizing（改变宽高设置的范围）

## 改变背景覆盖范围

默认情况下，背景覆盖边框盒：background-clip：border-box

## 溢出处理

overflow，控制内容溢出边框盒外部的处理方式

## 断词规则

word-break：会影响文字在什么位置被截断换行
normal： 普通，CJK字符（文字位置截断），非CJK字符（单词位置截断）
break-all：截断所有，所有字符都在文字处截断

keep-all：保持所有，所有字符都在单词之间（空格）截断

## 空白处理

溢出用3个...表示
```css
white-space：nowrap;
overflow:hidden;
text-overflow:ellipsis;
```
只能控制单行文本，多行需要JS

# 行盒的盒模型

常见的行盒：包含具体内容的元素
span，strong

## 显著特点

1. 盒子沿着内容延申
2. 行盒不能设置宽高
调整行盒的宽高，应该通过字体大小，行高，字体类型间接调整。

3. 内边距（填充区）
水平方向有效，垂直方向仅会影响背景，不会占据实际空间

4. 边框
水平方向有效，垂直方向不会占据实际空间

5. 外边距
水平方向有效，垂直方向不会占据实际空间

## 行块盒

display：inline-block 的盒子
1. 不独占一行
2. 盒模型的属性都有效

## 空白折叠

空白折叠，发生在行盒（包含行块盒）内部 或 行盒（包含行块盒之间）

## 可替换元素 和 非可替换元素

大部分元素，页面上显示的结果，取决于元素内容，称为**非可替换元素**
少部分元素，页面上显示的结果，取决于元素属性，称为**可替换元素**
少部分元素,img,video
绝大部分可替换元素均为行盒

可替换元素类似于行块盒，盒模型中的所有尺寸都有效
object-fit：fill（默认）

# 常规流

盒模型：规定单个盒子的规则

视觉格式化模型（布局规则）：页面中的多个盒子排列规则

视觉格式化模型，大体上将页面中盒子的排列分为三种方式：

1. 常规流
2. 浮动
3. 定位

## 常规流布局

常规流，文档流，普通文档流，常规文档流

所有元素，默认情况下，都属于常规流布局

总体规则：块盒独占一行，行盒水平依次排列

包含块（containing block）：每个盒子都有它的包含块，包含块决定了盒子的排列区域

绝大部分情况下：盒子的包含块，为其父元素的内容盒  

**块盒**
1. 每个块盒的总宽度，必须刚好等于包含块的宽度
宽度的默认值为auto ——> 将剩余空间吸收掉
margin的取值也可以是auto ——> 将剩余空间吸收掉
宽度的吸收能力强于margin

若宽度，边框，内边距，外边距计算后，仍有剩余空间，该剩余空间被margin-right吸收

在常规流中，块盒在其包含块中居中，可以定宽，然后左右margin设置为auto

2. 每个块盒垂直方向上的auto值
height：auto，表示适应内容的高度
margin：auto，表示0

3. 百分比取值
padding，宽，margin可以取值百分比
所有百分比相对于包含块的**宽度**。
都是相对于宽度，与高度无关

高度的百分比：
1). 包含块的高度是否取决于子元素，设置百分比无效
2). 包含块的高度与子元素无关，百分比相对于父元素高度

4. 上下外边距的合并

两个常规流块盒，上下外边距相邻，会进行合并

两个外边距合并取最大值（父子嵌套margin塌陷）

# 浮动
 视觉格式化模型，大体上将页面中的盒子的排列分为三种方式：

 1. 常规流
 2. 浮动:float
 3. 定位:position

 ## 应用场景

 1. 文字环绕
 2. 横向排列（导航栏等，兼容性好）
 
 ## 浮动的基本特点

 修改float属性值为
 - left： 左浮动，元素靠上靠左
 - right： 有浮动，元素靠上靠右

默认值为none

1. 当一个元素浮动后，一定是块盒（浮动会强制将其变化为块盒，更改display属性为block）
2. 浮动元素的包含块，和常规流一样，为父元素的内容盒

## 盒子尺寸

1. 宽度为auto时，适应内容宽度
2. 高度为auto时，与常规流一致，适应内容的高度
3. margin为auto，为0
4. 边框，内边距，百分比设置与常规流一样

## 盒子排列

1. 左浮动的盒子靠上靠左排列
2. 右浮动的盒子靠上靠右排列
3. 浮动盒子再包含盒块中排列避开常规流盒子
4. 常规流盒子在排列的时候，无视浮动盒子（如果顺序再后面，则会被覆盖）
5. 行盒再排列时，会避开浮动盒子
6. 外边距合并不会发生

> 如果文字没有行盒中，浏览器会自动生成一个行盒包裹文字，该行盒为匿名行盒

## 高度坍塌

高度坍塌的根源：常规流盒子的自动高度，在计算时，会忽略浮动盒子

解决：清除浮动，涉及css属性：clear
- 默认值：none
- left：清除左浮动，该元素必须出现在前面所有左浮动盒子的下方
- right：清除浮动，该元素必须出现在前面所有右浮动盒子的下方
- both： 清除左右浮动，该元素必须出现在前面所有浮动盒子的下方
**谁高度坍塌就清除谁，伪元素三件套**

# 定位

定位:手动控制元素在包含块中的精准位置

涉及的CSS属性：position

- 默认值: static 静态定位（不定位）
- relative: 相对定位
- absolute: 绝对定位
- fixed: 固定定位

一个元素，只要position的取值不是static，认为该元素是一个定位元素
定位元素会脱离文档流（相对定位除外）

一个脱离了文档流的元素

1. 文档流中的元素摆放时，会忽略脱离了文档流的元素
2. 文档流中元素计算自动高度时，会忽略脱离了文档流的元素

## 相对定位

不会导致元素脱离文档流，只是让元素在原来位置上进行偏移，

可以通过四个css属性设置位置
- left
- right
- top
- bottom

盒子的偏移不会影响其他盒子的位置

## 绝对定位

1. 宽高auto 适应内容
2. 包含块变化：找祖先元素中第一个定位元素，该元素的填充盒为其包含块，若找不到，则它的包含块为整个网页（初始化包含块，html整个网页）

## 固定定位

其他情况和绝对定位完全一样。
 
包含块不同： 固定为视口（浏览器的可视窗口，看得见的）

## 定位下的居中

某个方向居中：

1. 定宽（高）
2. 将左右（上下）距离设置为0
3. 将左右（上下）margin设置为auto

绝对定位和固定定位中，margin为auto时，会自动吸收剩余空间

## 多个定位元素重叠时

堆叠上下文

设置z-index，通常情况下，该值越大越靠近用户

只有定位元素设置z-index有效

z-index可以为负数，常规流元素，浮动元素会覆盖它。

##
- 绝对定位，固定定位元素一定是块盒（相对定位不会改变）
- 绝对定位，固定定位元素一定不是浮动（把浮动强制设置为none）
- 没有外边距合并

## 透明

每个颜色都具有透明通道，0~1

1. rgba（红，绿，蓝，alpha）
2. hex： 红绿蓝透

# 更多的选择器

## 更多的伪类选择器

1. first-child
2. last-child
3. nth-child
even：偶数== 2n
odd：奇数 == 2n+1
4. nth-of-type

## 更多的伪元素选择器

1. first-letter
2. first-line
选中文本第一行
3. selection
选中被用户框选文字

# 更多的样式

## 透明度

1. opacity，它设置的是整个元素的透明，它的取值是0~1
2. 在颜色位置设置alpha通道（rgba）

# 鼠标样式

cursor

## 盒子隐藏

display: none; 不生成盒子
visibility:hidden;生成盒子，只是从视觉上看不到（QQ闪烁）盒子仍然占据空间

## 背景图

### 和img的区别

img元素是属于HTML的概念
背景图是属于CSS的概念

1. 当图片属于网页内容时，必须使用img元素
2. 当图片属于网页美化页面时，必须使用背景图

### 涉及的css属性

1. background-image

2. background-repeat
默认情况下，背景图会在横坐标和从坐标重复

3. background-size（控制背景图的尺寸）

预设值：contain cover  类似于objext-fit
数值或百分比

4. background-position
预设值 left top bottom right center
数值或百分比

雪碧图（精灵图）(spirit)

5. background-attachment

fixed（背景图相对于视口不动）

通常用它控制背景图是否固定

6. 背景图和背景色混用

可以混着使用

7. 速写（简写）background
url() no-repeat 先写位置  再写尺寸 fixed #000


