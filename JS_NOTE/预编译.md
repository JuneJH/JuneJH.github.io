# 预编译的过程

- 预编译发生在函数执行前一刻
1.   创建AO   Activation Object（执行期上下文） ——>  作用域
   - 创建AO
   - 找形参，变量声明，赋值为undefined
   - 形参赋值
   - 找函数声明，并把函数体赋值

## 作用域

1. 执行器上下文，每次执行的都是独一无二的
2. 作用域链，链接的都是同一个AO


## new 发生的步骤

1、创建一个新对象；var obj = {}

2、将构造函数的作用域赋给新对象（因此this指向了这个新对象）；[Person.apply(obj)] [Person原来的this指向的是window]
把这个空对象的__proto__指向构造函数的prototype

3、执行构造函数中的代码(为这个新对象添加属性)；

4、返回新对象。
